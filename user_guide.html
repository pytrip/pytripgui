<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Developer documentation" href="technical.html" /><link rel="prev" title="Overview" href="readme.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.01.02"/>
        <title>User guide - pytrip98gui 1.5.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">pytrip98gui 1.5.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">pytrip98gui 1.5.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Overview</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">User guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="user-guide">
<h1>User guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>After opening the application you should be presented with this view:</p>
<img alt="_images/main_window_empty.png" class="align-center" src="_images/main_window_empty.png"/>
<div class="line-block">
<div class="line"><br/></div>
<div class="line"><br/></div>
</div>
<section id="trip98-installation">
<h2>TRiP98 installation<a class="headerlink" href="#trip98-installation" title="Permalink to this headline">¶</a></h2>
<p>To have the ability to calculate a simulation of a plan you have to install the TRiP98 program, that works only on Linux systems.
It can be accessed by contacting the author (according to the <a class="reference external" href="http://bio.gsi.de/DOCS/TRiP98/PRO/DOCS/trip98inst.html">installation guide</a>,
send an email to the address: <a class="reference external" href="mailto:M.Kraemer%40gsi.de">M<span>.</span>Kraemer<span>@</span>gsi<span>.</span>de</a>).
Online documentation of this program is <a class="reference external" href="http://bio.gsi.de/DOCS/trip98.html">available here</a>.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>After that, you need to set up the TRIP98 configuration in PyTRiPGUI. To do that, from the main application view,
click <em>Settings</em> and then <em>Trip98 Config</em>. TRIP98 can be set up either on your local machine or a remote one, so choose
the one that suits your needs. Presented below are both of the configuration views with explanations for each field.
HLUT and dE/dx files are delivered with TRiP98.</p>
<a class="reference internal image-reference" href="_images/trip_configuration_local.png"><img alt="_images/trip_configuration_local.png" src="_images/trip_configuration_local.png" style="width: 49%;"/></a>
<a class="reference internal image-reference" href="_images/trip_configuration_remote.png"><img alt="_images/trip_configuration_remote.png" src="_images/trip_configuration_remote.png" style="width: 49%;"/></a>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Next up is the beam kernel setup. From the main application view, click on <em>Settings</em> and <em>Beam Kernels</em>. Below you can
find its configuration view.
Note that if you are using TRiP98 remotely, the paths for DDD, SPC and SIS files must be remote as well.
DDD and SPC files are <a class="reference external" href="https://zenodo.org/record/4675053">available here</a>. SIS file is delivered with TRiP98.</p>
<a class="reference internal image-reference" href="_images/beam_kernel_setup.png"><img alt="_images/beam_kernel_setup.png" class="align-center" src="_images/beam_kernel_setup.png" style="width: 65%;"/></a>
<div class="line-block">
<div class="line"><br/></div>
<div class="line"><br/></div>
</div>
</section>
<section id="main-usage-scenario">
<h2>Main usage scenario<a class="headerlink" href="#main-usage-scenario" title="Permalink to this headline">¶</a></h2>
<p>In this usage scenario you will import some patient data either from DICOM or Voxelplan, configure a simulation of a
treatment plan, execute it and observe its results.</p>
<p>From the main application view, click on <em>Add patient</em> and then either <em>Open Voxelplan</em> or <em>Open DICOM</em>.</p>
<img alt="_images/new_patient_small.png" class="align-center" src="_images/new_patient_small.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>After the selected data gets loaded in, you should be presented with the following dialog box:</p>
<img alt="_images/contour_request.png" class="align-center" src="_images/contour_request.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>You can choose <cite>Yes</cite> if you want to precalculate now VOI contours in sagittal and coronal planes. If you choose <cite>No</cite>
then they will be calculated in real-time while viewing those contours. Regardless of which you choose,
an entry with the imported data should be visible under <em>Patient tree</em>, on the left.
Here you can switch between imported files simply by clicking on their name. You should also see patient CT images,
more specifically one of their slices, which you can switch by using the
scroll wheel or moving the slider visible on the far right. Above the preview, you can also switch between the three
different planes with a drop-down list. Below <em>Patient tree</em>, you can find <em>VOI list</em> from which you can select any VOIs
that you’d like to make visible and see its contours in the preview.</p>
<img alt="_images/main_window_patient_loaded_contours.png" class="align-center" src="_images/main_window_patient_loaded_contours.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>To configure the treatment plan, click on <em>Create plan</em>. Then you will see this window with basic patient info.</p>
<img alt="_images/plan_setup_info.png" class="align-center" src="_images/plan_setup_info.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Go to the <em>Target</em> tab and then select one of the entries from <em>Target ROI</em>.</p>
<img alt="_images/creating_plan_target.png" class="align-center" src="_images/creating_plan_target.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>In the <em>Dose Delivery</em> tab you can set beam kernel and other dose settings.</p>
<img alt="_images/plan_setup_dose_delivery.png" class="align-center" src="_images/plan_setup_dose_delivery.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>In the <em>Optimization</em> tab you can set optimization settings.</p>
<img alt="_images/plan_setup_optimization.png" class="align-center" src="_images/plan_setup_optimization.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>In the <em>Results</em> tab you can choose what kind of data you’d like to get as part of the simulation results of this
treatment plan.</p>
<img alt="_images/plan_setup_results.png" class="align-center" src="_images/plan_setup_results.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Afterwards, to configure the source of the radiation dose, click on <em>Create field</em>.</p>
<img alt="_images/creating_field.png" class="align-center" src="_images/creating_field.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Note that the created treatment plans and fields are also visible under <em>Patient tree</em>.</p>
<p>Finally, to execute the simulation of the created treatment plan, click on <em>Execute</em>. You should see a window pop up,
which reports on the progress of the simulation.</p>
<img alt="_images/executing_plan_start.png" class="align-center" src="_images/executing_plan_start.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>The simulation completes soon after the <em>Done</em> message is displayed. You can click <em>OK</em> to close the window.</p>
<img alt="_images/executing_plan_end_wo_dvh.png" class="align-center" src="_images/executing_plan_end_wo_dvh.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>You should be able to see the distribution of the calculated dose in the preview. If the results also include a LET
distribution you can switch to it by expanding the simulation entry under <em>Patient tree</em> and clicking on the appropriate
item.</p>
<img alt="_images/main_window_dose.png" class="align-center" src="_images/main_window_dose.png"/>
<div class="line-block">
<div class="line"><br/></div>
<div class="line"><br/></div>
</div>
</section>
<section id="other-features">
<h2>Other features<a class="headerlink" href="#other-features" title="Permalink to this headline">¶</a></h2>
<p>PyTRiPGUI also supports the following features.</p>
<div class="line-block">
<div class="line"><br/></div>
</div>
<section id="create-an-empty-patient">
<h3>Create an empty patient<a class="headerlink" href="#create-an-empty-patient" title="Permalink to this headline">¶</a></h3>
<p>For testing purposes you can create an empty patient instead of importing DICOM or Voxelplan. To do that, from the main
application view, click on <em>Add patient</em> and then <em>Create empty patient</em>.</p>
<img alt="_images/new_patient_small.png" class="align-center" src="_images/new_patient_small.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Here you can input some of its parameters in three different ways by switching between the tabs.</p>
<img alt="_images/create_empty_patient.png" class="align-center" src="_images/create_empty_patient.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
</section>
<section id="add-vois">
<h3>Add VOIs<a class="headerlink" href="#add-vois" title="Permalink to this headline">¶</a></h3>
<p>You can add VOIs to imported data or an empty patient. From the main application view, make sure an appropriate
<em>Patient</em> entry is selected under <em>Patient tree</em> and then click on <em>Add VOIs</em>.</p>
<img alt="_images/main_window_patient.png" class="align-center" src="_images/main_window_patient.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Click on <em>Add VOI</em> on the bottom left.</p>
<img alt="_images/add_vois.png" class="align-center" src="_images/add_vois.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Select one of the VOI shapes from the drop-down list and input its parameters.</p>
<img alt="_images/add_single_voi.png" class="align-center" src="_images/add_single_voi.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>Back here you can add more VOIs by clicking on <em>Add VOI</em> again, or remove the ones you added by clicking on <em>Remove</em>
next to their entry on the list. When you’re done, click <em>Ok</em> on the bottom right.</p>
<img alt="_images/add_vois_added.png" class="align-center" src="_images/add_vois_added.png"/>
<div class="line-block">
<div class="line"><br/></div>
</div>
<p>In the main application view you can see the newly added VOIs as entries under <em>VOI list</em> and their contours in the
preview when you select them.</p>
<img alt="_images/add_vois_visible.png" class="align-center" src="_images/add_vois_visible.png"/>
<div class="line-block">
<div class="line"><br/></div>
<div class="line"><br/></div>
</div>
</section>
<section id="export-data">
<h3>Export data<a class="headerlink" href="#export-data" title="Permalink to this headline">¶</a></h3>
<p>You can export data by right clicking a <em>Patient</em>, <em>Plan (.exec)</em> or <em>Dose</em> entry (expand <em>Sim</em> first) under <em>Patient tree</em> from
the main application view and then selecting either <em>Export as Voxelplan</em> or <em>Export as DICOM</em>, and saving it in your
file system.</p>
<img alt="_images/main_window_export.png" class="align-center" src="_images/main_window_export.png"/>
<div class="line-block">
<div class="line"><br/></div>
<div class="line"><br/></div>
</div>
</section>
<section id="import-dose-data">
<h3>Import dose data<a class="headerlink" href="#import-dose-data" title="Permalink to this headline">¶</a></h3>
<p>You can import the dose data (part of simulation results) that you previously exported, onto patient data, by right clicking
an appropriate <em>Patient</em> entry under <em>Patient tree</em> from the main application view and then selecting either <em>Import
dose from Voxelplan</em> or <em>Import dose from DICOM</em>.</p>
<img alt="_images/main_window_export.png" class="align-center" src="_images/main_window_export.png"/>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="technical.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Developer documentation</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="readme.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Overview</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2022, Leszek Grzanka |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="_sources/user_guide.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">User guide</a><ul>
<li><a class="reference internal" href="#trip98-installation">TRiP98 installation</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#main-usage-scenario">Main usage scenario</a></li>
<li><a class="reference internal" href="#other-features">Other features</a><ul>
<li><a class="reference internal" href="#create-an-empty-patient">Create an empty patient</a></li>
<li><a class="reference internal" href="#add-vois">Add VOIs</a></li>
<li><a class="reference internal" href="#export-data">Export data</a></li>
<li><a class="reference internal" href="#import-dose-data">Import dose data</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>